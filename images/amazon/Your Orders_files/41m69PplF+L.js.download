(function(e){var g=window.AmazonUIPageJS||window.P,k=g._namespace||g.attributeErrors,b=k?k("YourAccountMultiItemLayoutAssets"):g;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,g,k){e.when("A","ready").register("more-items-placeholder",function(b){var d=function(a,c){var h=this;this.$placeholder=a.find("."+c+"-more-items-placeholder");this.$grid=a.find("."+c+"-grid");this.$items=this.$grid.find("."+c+"-grid-item");this.$overflowItemCount=this.$placeholder.find("."+
c+"-more-items-count");this.itemCount=this.$items.size();this.lastOverflowItemCount=0;this.$placeholder.remove();this.itemCount&&(this.refresh(),b.on.resize(function(){h.refresh()}))};d.prototype.refresh=function(){var a=this.getOverflowItemCount();a!==this.lastOverflowItemCount&&(this.$placeholder.remove(),0<a&&(this.$overflowItemCount.text(a+1),this.$items.eq(this.itemCount-a-1).prepend(this.$placeholder),this.$placeholder.show()),this.lastOverflowItemCount=a)};d.prototype.getOverflowItemCount=
function(){var a=this.$grid.offset().top,c=this.$grid.height();return b.reduce(this.$items.get(),function(h,d){var f=b.$(d).offset().top-a;return h+(f>=c?1:0)},0)};return d});e.when("A","more-items-placeholder","ready").execute(function(b,d){b.$(".multi-item-multi-row").each(function(){new d(b.$(this),"multi-item-multi-row")});b.$(".multi-item-single-row").each(function(){new d(b.$(this),"multi-item-single-row")})})});
(function(e){var g=window.AmazonUIPageJS||window.P,k=g._namespace||g.attributeErrors,b=k?k("YourAccountOrderCareAmzlAssets"):g;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,g,k){e.when("A").register("amzl-form-validator",function(b){function d(a){this.$form=b.$(a);this.requiredInputNames=this.getRequiredInputNames()}d.prototype.hasRequiredValues=function(){var a=this.getFormData();return 0===b.$.grep(this.requiredInputNames,function(c){return 0===b.trim(a[c]||
"").length}).length};d.prototype.isValid=function(){return this.hasRequiredValues()};d.prototype.getRequiredInputNames=function(){return this.$form.find(".js-flag-required:visible, input[type=hidden].js-flag-required").map(function(){var a=b.$(this);return a.attr("name")||a.find("input, select").attr("name")||a.siblings("input, select").attr("name")}).get()};d.prototype.getFormData=function(){var a=this.$form.serializeArray(),c={};b.each(a,function(a){c[a.name]=a.value});return c};return d});
e.when("A","button-with-disabled-message","amzl-form-validator").register("amzl-form",function(b,d,a){var c=function(a){a.find(".amzl-error-message").removeClass("aok-hidden")},h=function(a,c){var b=c.isEnabled();a&&!b?c.enable():!a&&b&&c.disable()},l=function(c,l,f){c=b.$(c);var e=c.find(".amzl-submit-button.hide-if-no-js"),q,g;c.size()&&e.size()&&(f&&e.val(f),q=new d(e,l||e.find("input").data("disabled_message")),g=new a(c),h(g.isValid(),q),c.undelegate(".validate").delegate("input, select","change.validate keyup.validate keydown.validate keypress.validate",
function(){h(g.isValid(),q)}))},f=function(a){var c=b.$(a),h=c.find(".amzl-action-container"),d=c.find(".amzl-error-message");h.size()&&c.delegate(".amzl-action-container-handle","change",function(a){a=b.$(a.target);var m=a.val(),f=a.closest(".a-radio").data();a.is(":checked")&&(a.closest(".amzl-action-container-handle").addClass("amzl-action-container-handle--selected").siblings(".amzl-action-container-handle").removeClass("amzl-action-container-handle--selected"),h.addClass("aok-hidden").filter(".amzl-action-container-"+
m).removeClass("aok-hidden"),l(c,f.instructionstext,f.submittext),d.addClass("aok-hidden"))})};b.declarative("amzl-action-form","submit",function(a){var h=a.$target.closest("form"),d=h.attr("action"),l=h.attr("method"),f=h.serialize();b.ajax(d+"?"+f,{method:l,success:function(a){a&&"success"===a.status?g.location.href=h.find("input[name=successUrl]").val():c(h)},error:function(){c(h)}});a.$event.preventDefault()});return function(a){a=b.$(a);a.size()&&(l(a),f(a))}});e.when("A","amzl-form","ready").execute(function(b,
d){d(b.$(".amzl-action-form"))});e.when("A","a-modal","amzl-form").register("amzl-modal",function(b,d,a){b.on("a:popover:ajaxContentLoaded:amzl-modal",function(c){a(c.popover.$container.find(".amzl-action-form"))});return function(a,h,l){var f=h.url;h.get&&(f+=-1===f.indexOf("?")?"?":"&",f+=b.$.param(h.get));d.create(a,{name:"amzl-modal",header:h.title,url:f,width:l||500}).show()}});e.when("A","a-dropdown","amzl-modal","ready").execute(function(b,d,a){b.declarative("amzl-actions-dropdown",
"change",function(c){var b=c.$target,l=b.val();l&&(c=c.data[l],l=c.declarativeAction&&c.declarativeAction.action_params||{},a(b.find("option:selected"),c,l.modalWidth),d.getSelect(b).setValue(""))})});e.when("A","amzl-modal","ready").execute(function(b,d){b.declarative("amzl-actions-link","click",function(a){var c=a.$target;d(c,{title:c.text(),url:c.attr("href")},a.data.modalWidth);a.$event.preventDefault()})});e.when("A","ready").execute(function(b){b.on("a:button-group:amzl-reschedule-date-picker:toggle",
function(d){var a=d.selectedButton.$button.closest(".simple-date-picker__date").data("epoch"),c=d.selectedButton.$button.closest(".simple-date-picker__date").data("end_epoch"),h=d.selectedButton.$button.closest(".simple-date-picker__date").data("service_offering_token");d=d.selectedButton.$button.closest(".simple-date-picker__date").data("timezone");b.$(".amzl-reschedule-start-time-input").val(a).trigger("change");b.$(".amzl-reschedule-end-time-input").val(c).trigger("change");b.$(".amzl-reschedule-timezone-input").val(d).trigger("change");
b.$(".amzl-reschedule-service-offering-token-input").val(h).trigger("change")})});e.when("A","a-button","a-tooltip").register("button-with-disabled-message",function(b,d,a){function c(a,c){this.$button=b.$(a);this.auiButton=d(this.$button);this.disabledMessage=c;this.auiButton.isEnabled()||this.disable()}c.prototype.disable=function(){this.auiButton.disable();a.remove(this.$button);a.create(this.$button,{content:this.disabledMessage});return this};c.prototype.enable=function(){this.auiButton.enable();
a.remove(this.$button);return this};c.prototype.isEnabled=function(){return this.auiButton.isEnabled()};return c})});
(function(e){var g=window.AmazonUIPageJS||window.P,k=g._namespace||g.attributeErrors,b=k?k("YourAccountShipTrackWidgetAssets"):g;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,g,k){e.when("A","ready").register("logger",function(a){return{log:function(a){a="YourAccountShipTrack_"+a;g.ue&&"function"===typeof g.ue.count&&g.ue.count(a,(g.ue.count(a)||0)+1);"function"===typeof g.uex&&g.uex("ld",a,{wb:1})}}});var b=function(a){var c,b,d,f;a.length&&(a.css({visibility:"hidden",
display:"block"}),c=a.outerHeight(!1),b=a.outerWidth(!1),d=a.position().left,f=a.position().top,a.css({visibility:"visible",display:"none"}));return{height:c,width:b,left:d,top:f}},d=function(a,c,b){this.$element1=a;this.$element2=c;this.spacer="undefined"===typeof b?5:b;return this};d.prototype.getElementCoordinates=function(a){if(!a.length)return!1;var c=a.offset(),h=a.outerHeight(),d=a.outerWidth();a.is(":visible")||(c=a.show().offset(),a.hide(),a=b(a),h=a.height,d=a.width);return{height:h,width:d,
left:c.left,right:c.left+d,top:c.top,bottom:c.top+h}};d.prototype.getPositions=function(a){var c=this.getElementCoordinates(a),b,d,f,m,n=a.data("future-state");n&&(m=a.parent().offset(),b=n["margin-top"],d=n["margin-left"],f="undefined"!==typeof n.left?n.left+m.left:k,m="undefined"!==typeof n.top?n.top+m.top:k);f="undefined"!==typeof f?parseInt(f,10):c.left;f+="undefined"!==typeof d?parseInt(d,10):0;d="undefined"!==typeof m?parseInt(m,10):c.top;d+="undefined"!==typeof b?parseInt(b,10):0;return[[f,
f+c.width],[d,d+c.height]]};d.prototype.willOverlap=function(){if(!this.$element1.length||!this.$element2.length||this.$element1.get(0).parentNode!==this.$element2.get(0).parentNode)return!1;var a=this.getMarginDiffs();return 0!==a.left&&0!==a.right&&0!==a.top&&0!==a.bottom};d.prototype.getMarginDiffs=function(){var a,c,b,d,f={left:0,right:0,top:0,bottom:0},m=this.spacer;d=this.getPositions(this.$element1);var n=this.getPositions(this.$element2);a=n[0][1]-d[0][0];c=n[0][0]-d[0][1];b=n[1][1]-d[1][0];
d=n[1][0]-d[1][1];f.left=a>m?Math.max(m,a+m):0;f.right=c<m?Math.min(-m,c-m):0;f.top=b>m?Math.max(m,b+m):0;f.bottom=d<m?Math.min(-m,d-m):0;return f};e.when("A","ready").register("widget-shared",function(a){var c=function(){this.shortAnimationTime=400;this.longAnimationTime=1E3;this.animationEase="ease"};c.prototype.Overlaps=d;c.prototype.getHiddenElementDimensions=b;c.prototype.stAnimate=function(c,b,d,m){if(c&&c.length){d=d||this.shortAnimationTime;m=m||this.animationEase;var n=c.data("future-state")||
{},e;for(e in b)e&&(n[e]=b[e]);c.data("future-state",n);a.animate(c,b,d,m,function(){a.isAnimated(c)||c.removeData("future-state")})}};return c})});
(function(e){var g=window.AmazonUIPageJS||window.P,k=g._namespace||g.attributeErrors,b=k?k("WheresMyPackageJS"):g;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,g,k){e.when("A","a-modal","wmp-v2-constants").execute(function(b,d,a){b.declarative(a.MODAL_NAME,"click",function(c){var h=d.get(a.MODAL_NAME);h&&h.isActive()?h.update({header:c.data.header,url:c.data.url}).show():(d.remove(a.MODAL_NAME),d.create(b.$("<div />"),{activate:"onclick",cache:!1,dataStrategy:"ajax",
header:c.data.header,name:a.MODAL_NAME,url:c.data.url,width:a.MODAL_WIDTH}).show())})});e.when("A","wmp-submit-request","wmp-v2-constants","wmp-v2-common","ready").execute(function(b,d,a,c){b.declarative("wmp-v2-refund-replace-submit","click",function(h){h.$event.preventDefault();c.hideMessage();var l=b.$(a.PRE_SUBMIT_VIEW_CLASS).find("input[name="+a.REFUND_REPLACE_OPTION_NAME+"]:radio:checked").val(),f=a.ERROR_MESSAGE_ID;l===a.REFUND_OPTION_VALUE?f=a.REFUND_SUCCESS_MESSAGE_ID:l===a.REPLACE_OPTION_VALUE&&
(f=a.REPLACE_SUCCESS_MESSAGE_ID);"1"===h.data.requestSuccessOverride?c.showMessage(h.data.submitMessageUrl,f):d(l,h.data.submitParams).done(function(){c.showMessage(h.data.submitMessageUrl,f)}).fail(function(){c.showMessage(h.data.submitMessageUrl,a.ERROR_MESSAGE_ID)})});b.declarative("wmp-v2-refund-submit","click",function(b){b.$event.preventDefault();c.hideMessage();"1"===b.data.requestSuccessOverride?c.showMessage(b.data.submitMessageUrl,a.REFUND_SUCCESS_MESSAGE_ID):d(a.REFUND_OPTION_VALUE,b.data.submitParams).done(function(){c.showMessage(b.data.submitMessageUrl,
a.REFUND_SUCCESS_MESSAGE_ID)}).fail(function(){c.showMessage(b.data.submitMessageUrl,a.ERROR_MESSAGE_ID)})});b.declarative("wmp-v2-replace-submit","click",function(b){b.$event.preventDefault();c.hideMessage();"1"===b.data.requestSuccessOverride?c.showMessage(b.data.submitMessageUrl,a.REPLACE_SUCCESS_MESSAGE_ID):d(a.REPLACE_OPTION_VALUE,b.data.submitParams).done(function(){c.showMessage(b.data.submitMessageUrl,a.REPLACE_SUCCESS_MESSAGE_ID)}).fail(function(){c.showMessage(b.data.submitMessageUrl,a.ERROR_MESSAGE_ID)})})});
e.when("A","wmp-v2-constants","ready").register("wmp-v2-common",function(b,d){return{hideMessage:function(){b.$("."+d.ERROR_MESSAGE_CLASS).addClass(d.AUI_HIDDEN_CLASS)},showMessage:function(a,c){var h=b.$("."+d.ERROR_MESSAGE_CLASS);c===d.ERROR_MESSAGE_ID&&h.size()?h.removeClass(d.AUI_HIDDEN_CLASS):-1!==a.indexOf("?")?g.location.href=a+"&"+d.MESSAGE_ID_URL_PARAM+"="+c:g.location.href=a+"?"+d.MESSAGE_ID_URL_PARAM+"="+c}}});e.when("A","wmp-common-constants").register("wmp-v2-constants",
function(b,d){var a={};b.map(d,function(c,b){a[b]=c});b.map({PRE_SUBMIT_VIEW_CLASS:".wmp-v2-refund-replace-pre-submit",MESSAGE_ID_URL_PARAM:"wmpMessageId",ERROR_MESSAGE_ID:"1",REFUND_SUCCESS_MESSAGE_ID:"2",REPLACE_SUCCESS_MESSAGE_ID:"3",ERROR_MESSAGE_CLASS:"wmp-error-message",AUI_HIDDEN_CLASS:"aok-hidden",MODAL_NAME:"wheres-my-package-modal",MODAL_WIDTH:520},function(c,b){a[b]=c});return a});e.when("A").register("wmp-common-constants",function(b){return{REFUND_REPLACE_OPTION_NAME:"wmp_option",
REFUND_OPTION_VALUE:"Refund",REPLACE_OPTION_VALUE:"Replacement"}});e.when("A").register("wmp-submit-request",function(b){return function(d,a){var c=new b.$.Deferred;a.option=d;b.ajax("/gp/shared-cs/ajax/wmp/submitter.html",{method:"post",dataType:"json",params:a,timeout:5E3,cache:!1,contentType:"application/x-www-form-urlencoded; charset=utf-8",success:function(a){1===a.success?c.resolve():c.reject()},error:function(){c.reject()}});return c.promise()}});e.when("A").register("wmp-find-pop-cmpt",
function(b){return function(b,a){var c=b.parents(".a-popover").data("a-popover-id");return a.get(c)}});e.when("A","wmp-find-pop-cmpt").register("wmp-hide-pop-cmpt",function(b,d){return function(a,c){var b=d(a,c);b&&"function"===typeof b.hide&&b.hide()}});e.when("A","a-modal","ready").execute(function(b,d){var a=b.$;a(document).delegate("#scfiModalDismiss","click",function(a){d.get("scfiButton_modal").hide();a.preventDefault()})});e.when("A","wmp-common-constants").register("wmp-popover-constants",
function(b,d){var a={};b.map(d,function(c,b){a[b]=c});b.map({INTRO_VIEW_CLASS:"wmp-step-intro",PRE_SUBMIT_VIEW_CLASS:"wmp-popover-step-pre-submit",WAIT_VIEW_CLASS:"wmp-popover-step-waiting",REFUND_SUCCESS_VIEW_CLASS:"wmp-popover-step-refund-success",REPLACE_SUCCESS_VIEW_CLASS:"wmp-popover-step-replace-success",ERROR_VIEW_CLASS:"wmp-popover-step-error"},function(c,b){a[b]=c});return a});e.when("A","ready").register("wmp-popover-common",function(b){function d(a,c){var b=a.parents("."+c);
1>b.length&&(b=a.parents(".a-popover").find("."+c));return b}return{getView:d,switchViews:function(a,c,b){a=d(a,c);b=a.siblings("."+b);a.hide();b.show()}}});e.when("A","wmp-popover-constants","wmp-popover-common","ready").execute(function(b,d,a){function c(c){c.$event.preventDefault();a.switchViews(c.$target,d.INTRO_VIEW_CLASS,d.PRE_SUBMIT_VIEW_CLASS)}b.declarative("wmp-popover-init-refund-replace","click",c);b.declarative("wmp-popover-init-refund","click",c);b.declarative("wmp-popover-init-replace",
"click",c)});e.when("A","wmp-submit-request","wmp-popover-constants","wmp-popover-common","ready").execute(function(b,d,a,c){b.declarative("wmp-popover-submit-refund-replace","click",function(b){b.$event.preventDefault();var l=c.getView(b.$target,a.PRE_SUBMIT_VIEW_CLASS).find("input[name="+a.REFUND_REPLACE_OPTION_NAME+"]:radio:checked").val();c.switchViews(b.$target,a.PRE_SUBMIT_VIEW_CLASS,a.WAIT_VIEW_CLASS);d(l,b.data.submitParams).done(function(){c.switchViews(b.$target,a.WAIT_VIEW_CLASS,
l===a.REFUND_OPTION_VALUE?a.REFUND_SUCCESS_VIEW_CLASS:a.REPLACE_SUCCESS_VIEW_CLASS)}).fail(function(){c.switchViews(b.$target,a.WAIT_VIEW_CLASS,a.ERROR_VIEW_CLASS)})});b.declarative("wmp-popover-submit-refund","click",function(b){b.$event.preventDefault();c.switchViews(b.$target,a.PRE_SUBMIT_VIEW_CLASS,a.WAIT_VIEW_CLASS);d(a.REFUND_OPTION_VALUE,b.data.submitParams).done(function(){c.switchViews(b.$target,a.WAIT_VIEW_CLASS,a.REFUND_SUCCESS_VIEW_CLASS)}).fail(function(){c.switchViews(b.$target,a.WAIT_VIEW_CLASS,
a.ERROR_VIEW_CLASS)})});b.declarative("wmp-popover-submit-replace","click",function(b){b.$event.preventDefault();c.switchViews(b.$target,a.PRE_SUBMIT_VIEW_CLASS,a.WAIT_VIEW_CLASS);d(a.REPLACE_OPTION_VALUE,b.data.submitParams).done(function(){c.switchViews(b.$target,a.WAIT_VIEW_CLASS,a.REPLACE_SUCCESS_VIEW_CLASS)}).fail(function(){c.switchViews(b.$target,a.WAIT_VIEW_CLASS,a.ERROR_VIEW_CLASS)})})});e.when("A","a-popover","wmp-hide-pop-cmpt").execute(function(b,d,a){b.declarative("wmp-popover-cancel",
"click",function(c){c.$event.preventDefault();a(c.$target,d)})});e.when("A","wmp-common-constants").register("wmp-expander-constants",function(b,d){var a={};b.map(d,function(c,b){a[b]=c});b.map({CONTENTS_CLASS:"wmp-expander-content",FALLBACK_VIEW_CLASS:"wmp-expander-step-fallback",WAIT_VIEW_CLASS:"wmp-expander-step-waiting",DATA_LOAD_PARAMS:"load-params",DATA_IS_LOADED:"is-loaded",DATA_FOR_TPL_HEADING:"heading",WAITING_TPL_ID:"wmp-expander-template-waiting",REFUND_SUCCESS_TPL_ID:"wmp-expander-template-refund-success",
REPLACE_SUCCESS_TPL_ID:"wmp-expander-template-replace-success",ERROR_TPL_ID:"wmp-expander-template-error"},function(c,b){a[b]=c});return a});e.when("A","wmp-expander-constants","ready").execute(function(b,d){function a(a){var h=new b.$.Deferred;b.ajax("/gp/shared-cs/wmp/ajax-handler/expander-contents",{method:"get",dataType:"html",params:a,timeout:5E3,cache:!1,contentType:"text/html; charset=utf-8",success:function(a){h.resolve(a)},error:function(){h.reject()}});return h.promise()}b.on("a:expander:wheres_my_package:toggle:expand",
function(c){var b=c.expander.$expander;if(!b.data(d.DATA_IS_LOADED)){c=b.data(d.DATA_LOAD_PARAMS);var l=b.find("."+d.CONTENTS_CLASS),f=b.find("."+d.FALLBACK_VIEW_CLASS),m=b.find("."+d.WAIT_VIEW_CLASS);f.hide();m.show();a(c).done(function(a){m.hide();l.append(a);b.data(d.DATA_IS_LOADED,1)}).fail(function(){m.hide();f.show()})}})});e.when("A","a-modal","wmp-hide-pop-cmpt").execute(function(b,d,a){b.declarative("wmp-expander-cancel","click",function(c){c.$event.preventDefault();a(c.$target,
d)})});e.when("A","wmp-expander-constants","ready").register("wmp-expander-templates",function(b,d){var a={};b.each([d.WAITING_TPL_ID,d.REFUND_SUCCESS_TPL_ID,d.REPLACE_SUCCESS_TPL_ID,d.ERROR_TPL_ID],function(c){var h=b.$("#"+c),l=h.data(d.DATA_FOR_TPL_HEADING),h=h.html();a[c]={header:l,content:h,footer:""}});return{fetch:function(c){return a[c]}}});e.when("A","a-modal","wmp-find-pop-cmpt","wmp-expander-constants","wmp-expander-templates","wmp-submit-request").execute(function(b,
d,a,c,h,l){function f(a,c){var b=h.fetch(c);a.update(b)}b.declarative("wmp-expander-submit-refund-replace","click",function(b){b.$event.preventDefault();var h=a(b.$target,d),e=h.getContent().find("input[name="+c.REFUND_REPLACE_OPTION_NAME+"]:radio:checked").val();f(h,c.WAITING_TPL_ID);l(e,b.data.submitParams).done(function(){f(h,e===c.REFUND_OPTION_VALUE?c.REFUND_SUCCESS_TPL_ID:c.REPLACE_SUCCESS_TPL_ID)}).fail(function(){f(h,c.ERROR_TPL_ID)})});b.declarative("wmp-expander-submit-refund","click",function(b){b.$event.preventDefault();
var h=a(b.$target,d);f(h,c.WAITING_TPL_ID);l(c.REFUND_OPTION_VALUE,b.data.submitParams).done(function(){f(h,c.REFUND_SUCCESS_TPL_ID)}).fail(function(){f(h,c.ERROR_TPL_ID)})});b.declarative("wmp-expander-submit-replace","click",function(b){b.$event.preventDefault();var h=a(b.$target,d);f(h,c.WAITING_TPL_ID);l(c.REPLACE_OPTION_VALUE,b.data.submitParams).done(function(){f(h,c.REPLACE_SUCCESS_TPL_ID)}).fail(function(){f(h,c.ERROR_TPL_ID)})})})});
(function(e){var g=window.AmazonUIPageJS||window.P,k=g._namespace||g.attributeErrors,b=k?k("YourAccountOrderHistoryJS"):g;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,g,k){e.when("A","a-modal").execute(function(b,d){b.declarative("close-archive-order-modal","click",function(a){a.$event.preventDefault();(a=d.get("archive-order-modal"))&&"function"===typeof a.hide&&a.hide()})});e.when("A").register("b2b-account-dropdown",function(b){function d(a){b.declarative(a,
"change",function(a){a=a.$target.context.form;var h=b.$("#b2bDropdown"),d="/ref=b2b_yo_dd_",f=h.find("option:selected").val()||"unknown",m={yourself:"all",unknown:"unk"},d="delegatedCustId"===h.attr("name")?d+("pd_"+(m[f]||"del")):d+f.substr(0,3).toLowerCase();a.action+=d;a.submit()})}d("b2b-account-change");return{assignAction:d}});e.when("A","jQuery").execute(function(b,d){b.declarative("remaining-customizations-action","click",function(a){a.$currentTarget.parent().find(".remaining_customization_info").show();
a.$currentTarget.hide();a.$event.preventDefault()})});e.when("A").register("order-period-dropdown",function(b){function d(a){b.declarative(a,"change",function(a){a.$target.context.form.submit()})}d("time-period-change");d("household-cid-change");return{assignAction:d}});e.when("A","ready").register("popover-page-data",function(b){var d=b.state("initial-popover-data");return{getDefaultTimePeriodValue:function(){return d?d.defaultTimePeriodValue:k},getSelectedTimePeriodValue:function(){return d?
d.selectedTimePeriodValue:k},isCancelled:function(){return d?d.isCancelled:k},isOpen:function(){return d?d.isOpen:k},isFresh:function(){return d?d.isFresh:k},getCancelledValue:function(){return d?d.cancelledValue:"cancelled"},getOpenValue:function(){return d?d.openValue:"open"},getFreshValue:function(){return d?d.freshValue:"freshOrders"}}});e.when("A","popover-page-data","ready").register("filter-popover",function(b,d){var a=b.$("#timePeriodSection"),c=b.$("#orderFilterForm"),h=c.find("#digitalOrdersHidden"),
l=c.find("#unifiedOrdersHidden"),f=c.find("#janeOrdersHidden"),m=c.find("#orderFilterHidden"),n=b.$("#orderFilterSection"),e;d.isCancelled()||d.isOpen()?(d.isCancelled()?m.attr("value",d.getCancelledValue()):m.attr("value",d.getOpenValue()),e=d.getDefaultTimePeriodValue(),n.find('input[type="radio"][value="'+e+'"]').parent("label").find("i").addClass("a-icon-touch-radio-active"),a.hide()):(e=d.getSelectedTimePeriodValue()?d.getSelectedTimePeriodValue():d.getDefaultTimePeriodValue(),m.attr("value",
e));b.declarative("popover-time-range-select","click",function(a){e=a.data.range;a=d.getFreshValue();var c;if(c="undefined"!==typeof a)c=b.$("#filterTypeSection input:checked").closest(".yo-filters-radio-button").data("type")===a;m.attr("value",c?a+"-"+e:e)});b.declarative("digital-or-physical-order-select","click",function(c){h.attr("value",c.data.digital);l.attr("value",c.data.unified);f.attr("value",c.data.jane);m.attr("value",e);a.slideDown("fast")});b.declarative("open-or-cancel-order-select",
"click",function(c){h.removeAttr("value");l.removeAttr("value");f.removeAttr("value");m.attr("value",c.data.filterType);a.slideUp("fast")});b.declarative("order-type-by-date-select","click",function(c){m.attr("value",c.data.filterType+"-"+e);a.slideDown("fast")});b.declarative("apply-OH-filter","click",function(a){c.submit()});return{getFilterLabel:function(){var a=b.$("#filterTypeSection input:checked").closest(".yo-filters-radio-button"),c=a.data("type"),a=a.data("label");if("open"===c||"cancelled"===
c||"janeOrders"===c)return a;c=b.$("#timePeriodSection input:checked").closest(".yo-filters-radio-button");c.data("range");c=c.data("label");return a+", "+c}}});e.when("A","ready").register("right-rail",function(b){function d(){var b=a(),d;a:{for(d in b)if(d&&b.hasOwnProperty(d)){var f=b[d];if(!f||0===f.length||0===f.width()||0===f.height()){d=!1;break a}}d=!0}d&&(m=h.outerWidth(!0),n=l.outerWidth(!0),e=20+m+20,v=20+n+e,d=b.yourOrders.offset(),d=b.firstOrder.offset().top-d.top,b.rightRail.css({top:d+
"px"}),c(b))}function a(){return{contentCenter:l,firstOrder:b.$(".order").first(),rightRail:h,yourOrders:f}}function c(a){var c;if(c=0<a.rightRail.children().length){c=b.$(g).width();var h=a.rightRail.is(":visible");c=c-v>(h?0:5)}var h=b.$(g).width(),d=h-n-e;c&&d<e?a.yourOrders.width(h-2*d):a.yourOrders.width(n);c?a.rightRail.show():a.rightRail.hide()}var h=b.$("#rightRail"),l=b.$("#yourOrdersContent"),f=b.$("#yourOrders"),m,n,e,v;b.$(g).resize(function(){c(a())});d();return{initialize:d,remove:function(){h.empty().hide();
f.width(n)}}});e.when("A").execute(function(b){b.on("a:popover:afterUpdatePosition:recipient",function(b){try{var a=b.popover,c=a.$popover,h=a.$trigger.find(".trigger-text"),l=h.offset().left+h.width()/2-c.width()/2,f={top:c.offset().top,left:l};c.offset(f)}catch(m){}})});e.when("A","ready").register("ie-detect",function(b){function d(c,h){var d=0<b.$(h).length;a[c]=d}var a={};return{isIE6OrOlder:function(){a.IE6OrOlder===k&&d("IE6OrOlder",".a-lt-ie7");return a.IE6OrOlder},
isIE7OrOlder:function(){a.IE7OrOlder===k&&d("IE7OrOlder",".a-lt-ie8");return a.IE7OrOlder},isIE8OrOlder:function(){a.IE8OrOlder===k&&d("IE8OrOlder",".a-lt-ie9");return a.IE8OrOlder},isIE9OrOlder:function(){a.IE9OrOlder===k&&d("IE9OrOlder",".a-lt-ie10");return a.IE9OrOlder}}});e.when("A").register("track-package-dom-helper",function(b){return{findElements:function(b){b=b.parents(".shipment");return{shipmentEl:b,detailsEl:b.find(".tracking-details"),buttonEl:b.find(".track-package-button"),
contentsEl:b.find(".tracking-details .contents"),hideEl:b.find(".tracking-details .hide")}},findParamsForPackagesFromTrackEl:function(b){return b.parent(".a-declarative").data("show-tracking-details")},removeTag:function(d,a){d=b.$(d);d=d.map(function(c,h){var d=b.$(h).prop("tagName");return a.toUpperCase()===d?null:h});d.find(a.toLowerCase()).remove();return d},convertToDivs:function(d,a){var c=new RegExp("<\\s*"+a.join("|<\\s*"),"gi"),h=new RegExp("<\\s*\\/\\s*"+a.join("\\s*>|<\\s*\\/\\s*")+"\\s*>",
"gi");d=b.$(d)[0];d.outerHTML=d.outerHTML.replace(c,"<div").replace(h,"</div>")}}});e.when("A","ie-detect").register("track-package-toggler",function(b,d){var a=!d.isIE9OrOlder();return{showDetails:function(c){a?(c.hideEl.hide(),b.slideDown(c.detailsEl,100,"ease-out",function(){c.hideEl.show()})):c.detailsEl.show();c.buttonEl.css("visibility","hidden")},hideDetails:function(c){a?(c.hideEl.hide(),b.slideUp(c.detailsEl,100,"ease-out",function(){c.hideEl.show()})):c.detailsEl.hide();c.buttonEl.css("visibility",
"visible")}}});e.when("A").register("track-package-details-status",function(b){return{detailsLoadedOk:function(d){return b.$(d).data("trackDetailsLoaded")||!1},detailsLoadFailed:function(d){return!1===b.$(d).data("trackDetailsLoaded")},setIsLoaded:function(d,a){b.$(d).data("trackDetailsLoaded",a)}}});e.when("A","track-package-dom-helper","ready").register("track-package-details-parser",function(b,d){var a=b.$("#trackPkgDetailsTemplate").html();b.$("#yourOrders, #orderDetails").delegate("a.reloader",
"click",function(a){a.preventDefault();g.location.reload()});return{parseResult:function(c,h){var l=b.$(c.html),f=l.find(".trackTable");l.find(".eyeHead").remove();l=d.removeTag(l,"script");h&&f.size()&&f.addClass("fauxTable").each(function(){d.convertToDivs(this,"table tbody thead tfoot th tr td".split(" "))});l.find("a").each(function(){var a=b.$(this);"#"!==a.attr("href")||a.hasClass("reloader")||a.attr("href",c.shipTrackPageUrl)});f=b.$(a);f.find("a.ship-track-link").attr("href",c.shipTrackPageUrl);
f.find(".details").append(l);return f}}});e.when("A","track-package-details-status","track-package-details-parser","ready").register("track-package-details-loader",function(b,d,a){function c(a){var c=new b.$.Deferred;return{ajaxHandle:b.ajax("/gp/widgets/shiptrack/display-tracking-info.html",{method:"get",dataType:"json",params:a.ajaxParams,timeout:1E4,cache:!1,success:function(b){b&&b.html?c.resolve({html:b.html,shipTrackPageUrl:a.shipTrackPageUrl}):c.reject()},error:function(){c.reject()}}),
promise:c.promise()}}function h(a){var c=b.$(f);c.find("a.ship-track-link").attr("href",a);return c}var l=b.$("#trackPkgLoadingTemplate").html(),f=b.$("#trackPkgAjaxErrorTemplate").html();return{load:function(m,n){if(!b.objectIsEmpty(m)&&!d.detailsLoadedOk(n)){d.detailsLoadFailed(n)&&n.html(l);var f=[],e=b.map(m,function(a){a=c(a);f.push(a.ajaxHandle);return a.promise});b.$.when.apply(b.$,e).done(function(){var c=Array.prototype.slice.call(arguments);n.empty();b.each(c,function(c){n.append(a.parseResult(c,
m[0].useFauxTrackTable))});d.setIsLoaded(n,!0)}).fail(function(){b.each(f,function(a){a.abort()});n.html(h(m[0].shipTrackPageUrl));d.setIsLoaded(n,!1)})}}}});e.when("A","track-package-dom-helper","track-package-toggler","track-package-details-loader").execute(function(b,d,a,c){b.declarative("show-tracking-details","click",function(b){b.$event.preventDefault();var l=d.findElements(b.$target);a.showDetails(l);c.load(b.data,l.contentsEl)});b.declarative("hide-tracking-details","click",function(c){c.$event.preventDefault();
c=d.findElements(c.$target);a.hideDetails(c)});b.declarative("retry-tracking-details","click",function(a){a.$event.preventDefault();a=d.findElements(a.$target);var b=d.findParamsForPackagesFromTrackEl(a.buttonEl);c.load(b,a.contentsEl)})});e.when("A","mash").register("aw-mash",function(b,d){return d});e.when("A","a-modal").execute(function(b,d){function a(a){a.$event.preventDefault();a=a.$target.closest(".a-popover");(a=d.get(a))&&"function"===typeof a.hide&&a.hide()}b.declarative("reorder-modal-cancel",
"click",a);e.when("aw-mash","a-modal-factory").execute(function(c,h){function d(a){"object"===typeof amazon&&"object"===typeof g.amazon.mash&&"function"===typeof g.amazon.mash.navigate?g.amazon.mash.navigate({url:a}):g.location.assign(a)}b.declarative("reorder-modal-add-to-cart","click",function(c){b.declarative("reorder-modal-success-cart","click",function(c){a(c);d("/gp/cart/view.html")});b.declarative("reorder-modal-success-continue","click",a);b.declarative("reorder-modal-error-ok","click",a);
(function(c){function n(h){b.ajax("/gp/aw/detail/ajax/add-to-cart/ref="+p,{method:"post",params:h.inputs,timeout:h.timeout,success:function(h){h&&h.ok?(a(c),r?e(h):(b.$("#reorderATCChangeover"+u).show(),setTimeout(function(){e(h)},1700))):f(k.ATCProblemText)},failure:function(){f(k.ATCProblemText)}})}function f(a){a=b.$("<a></a>");var c=b.$("#reorderATCErrorModalFooter"+u);a=h.create(a,{header:k.failedATCText,footer:c.html(),inlineContent:k.ATCProblemText,dataStrategy:"inline"});a.refresh();a.show()}
function e(a){a=parseInt(a.numActiveItemsInCart,10);g.amazon.mash.cart.didUpdate({newCartQuantity:a});if(0===r)d("/gp/cart/view.html");else{a=b.$("<a></a>");var c=b.$("#reorderATCSuccessModal"+u);a=h.create(a,{header:k.itemAddedToCartText,inlineContent:c.html(),dataStrategy:"inline"});a.refresh();a.show()}}var q=c.data,k=q.strings?q.strings:{},p=q.ref,u=q.suffix,r=q.doShowATCModal;q.requiresSignIn?g.amazon.mash.showLoginDialog({successCallback:function(){n(q)},failCallback:function(a){"CANCELED"!==
a&&f(a)}}):n(q)})(c)})})});e.when("A","a-dropdown").execute(function(b,d){b.declarative("legal-invoice-download","change",function(a){a=d.getSelect(a.$target);var c=a.val();""!==c&&(g.location=c,a.setValue(""))})});e.when("A","a-dropdown","a-modal","ready").execute(function(b,d,a){b.declarative("problem-button-dropdown","change",function(a){a=a.$target;var h=a.find("option:selected"),l=h.data("actionname"),f=h.data("url");d.getSelect(a).setValue("");l?b.trigger("a:declarative:"+
l+":click",{data:{header:h.data("header")||"",url:f}}):f&&(g.location=f)})});e.when("A","jQuery").execute(function(b,d){b.on.ready(function(){d(".js-charge-expander-heading").click(function(a){var c=d(a.target).parent().data("fundId");a="expander-for-fundId-"+c;var h=b.state("page-state-for-fund-id-"+c),l=h.divId,f=h.orderId;b.on("a:expander:"+a+":toggle:expand",function(){var a=document.getElementById(l),h={orderId:f,fundId:c},e=function(c){a.innerHTML=c;d(a).data("filled",1)};a&&(d(a).removeClass("aok-hidden"),
1!==d(a).data("filled")&&b.post("/gp/your-account/order-details/handlers/ajax/charge-breakdown.html",{params:h,success:e}))});b.on("a:expander:"+a+":toggle:collapse",function(){var a=document.getElementById(l);a&&d(a).addClass("aok-hidden")})})})});e.when("A","ready").register("profile-image-cmpt",function(b){return{getProfileImageURL:function(d){return(d=b.state("household-image-url-"+d))?d.url:""}}});e.when("a-dropdown","profile-image-cmpt").execute(function(b,d){var a=b.getSelect("household-member-dropdown");
if(a){var c=a.val();c&&(a=document.getElementById("household-dropdown-profile-image"))&&(c=d.getProfileImageURL(c))&&(a.src=c)}});e.when("A","profile-image-cmpt").execute(function(b,d){b.on("a:dropdown:household-member-dropdown:select",function(a){document.getElementById("household-address-service-alert")&&b.$("#household-address-service-alert").removeClass("aok-hidden");if(a.value){var c=document.getElementById("household-dropdown-profile-image");c&&(a=d.getProfileImageURL(a.value))&&(c.src=a)}})})});